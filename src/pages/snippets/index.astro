---
import SearchBar from "#components/elements/search-bar.astro";
import Root from "#components/layout/root.astro";
import Snippets from "#components/sections/snippets.astro";
import { getCollection } from "astro:content";

const snippets = await getCollection("snippets");
const cleanData = snippets.map((s) => ({
    slug: s.slug,
    data: s.data,
}));
---

<Root>
    <SearchBar path="/snippets" items={cleanData} />
    <Snippets snippets={snippets} />
</Root>
