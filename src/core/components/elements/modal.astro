---
const { id } = Astro.props
---

<dialog id={id}>
    <div>
        <slot />
    </div>
</dialog>

<style>
    dialog {
        min-width: 350px;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border: solid 1px var(--bc);
        background-color: var(--background-dialog);
        border-radius: 0.5em;
        animation: 300ms cubic-bezier(0.16, 1, 0.3, 1) 0s 1 normal forwards running fadeIn;
    }

    dialog::backdrop {
        inset: 0px;
        backdrop-filter: blur(4px);
        background-color: var(--background-dialog-backdrop);
        transition: background-color 0.2s ease-in-out;
    }

    div {
        padding: 0.5em;
        display: grid;
        gap: 1em;
        background-color: var(--bg);
    }
</style>

<script defer is:inline define:vars={{ id }}>
    const dialog = document.querySelector(`#${id}`)
    dialog.addEventListener('click', e => e.target === dialog && dialog.close())
</script>
