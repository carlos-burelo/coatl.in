---
export interface Props {
    name: string
}

const { name } = Astro.props as Props
const path = `/src/core/icons/${name}.svg`

// const { default: src } = await import(path)

const icons = import.meta.glob<{ default: ImageMetadata }>('/src/core/icons/*.svg', {
    query: '?raw',
    import: 'default',
})

const icon = await icons[path]()

if (!icon) {
    throw new Error(`Icon not found: ${name}`)
}
---

<Fragment set:html={icon} />
